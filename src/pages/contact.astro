---
import BaseLayout from '@layouts/BaseLayout.astro';

const contactMethods = [
  {
    icon: 'email',
    title: 'Email',
    value: 'anil.colak@metu.edu.tr',
    href: 'mailto:anil.colak@metu.edu.tr',
    description: 'Best for detailed inquiries'
  },
  {
    icon: 'linkedin',
    title: 'LinkedIn',
    value: 'Anıl Salih Çolak',
    href: 'https://www.linkedin.com/in/an%C4%B1l-salih-%C3%A7olak-554793153/',
    description: 'Connect professionally'
  },
  {
    icon: 'twitter',
    title: 'X (Twitter)',
    value: '@aaanilclk',
    href: 'https://x.com/aaanilclk',
    description: 'Follow for updates'
  }
];

const faqs = [
  {
    question: 'How can I access resources?',
    answer: 'All resources are completely free! Simply browse the Course Archive to view and download materials via Google Drive.'
  },
  {
    question: 'Can I request a specific course?',
    answer: 'Absolutely! Use the contact form below to request any course. I prioritize requests based on demand and my own expertise in the subject.'
  },
  {
    question: 'Do you offer tutoring services?',
    answer: 'Yes. Contact me for availability.'
  },
];
---

<BaseLayout title="Contact" description="Get in touch for questions, collaborations, or course requests">
  <section class="contact-page">
    <div class="container">
      <!-- Page Header -->
      <div class="page-header">
        <h1 class="page-title">Get in Touch</h1>
        <p class="page-description">
          Have a question, suggestion, or want to collaborate? I'd love to hear from you. 
          Choose your preferred contact method below.
        </p>
      </div>
      
      <!-- Contact Methods -->
      <div class="contact-methods">
        {contactMethods.map((method) => (
          <a href={method.href} class="contact-card" target={method.href.startsWith('http') ? '_blank' : undefined}>
            <div class="contact-icon">
              {method.icon === 'email' && (
                <svg xmlns="http://www.w3.org/2000/svg" width="28" height="28" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round">
                  <path d="M4 4h16c1.1 0 2 .9 2 2v12c0 1.1-.9 2-2 2H4c-1.1 0-2-.9-2-2V6c0-1.1.9-2 2-2z"></path>
                  <polyline points="22,6 12,13 2,6"></polyline>
                </svg>
              )}
              {method.icon === 'linkedin' && (
                <svg xmlns="http://www.w3.org/2000/svg" width="28" height="28" viewBox="0 0 24 24" fill="currentColor">
                  <path d="M20.447 20.452h-3.554v-5.569c0-1.328-.027-3.037-1.852-3.037-1.853 0-2.136 1.445-2.136 2.939v5.667H9.351V9h3.414v1.561h.046c.477-.9 1.637-1.85 3.37-1.85 3.601 0 4.267 2.37 4.267 5.455v6.286zM5.337 7.433c-1.144 0-2.063-.926-2.063-2.065 0-1.138.92-2.063 2.063-2.063 1.14 0 2.064.925 2.064 2.063 0 1.139-.925 2.065-2.064 2.065zm1.782 13.019H3.555V9h3.564v11.452zM22.225 0H1.771C.792 0 0 .774 0 1.729v20.542C0 23.227.792 24 1.771 24h20.451C23.2 24 24 23.227 24 22.271V1.729C24 .774 23.2 0 22.222 0h.003z"/>
                </svg>
              )}
              {method.icon === 'twitter' && (
                <svg xmlns="http://www.w3.org/2000/svg" width="28" height="28" viewBox="0 0 24 24" fill="currentColor">
                  <path d="M18.244 2.25h3.308l-7.227 8.26 8.502 11.24H16.17l-5.214-6.817L4.99 21.75H1.68l7.73-8.835L1.254 2.25H8.08l4.713 6.231zm-1.161 17.52h1.833L7.084 4.126H5.117z"/>
                </svg>
              )}
            </div>
            <div class="contact-info">
              <h3 class="contact-title">{method.title}</h3>
              <span class="contact-value">{method.value}</span>
              <span class="contact-description">{method.description}</span>
            </div>
            <div class="contact-arrow">
              <svg xmlns="http://www.w3.org/2000/svg" width="20" height="20" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round">
                <line x1="5" y1="12" x2="19" y2="12"></line>
                <polyline points="12 5 19 12 12 19"></polyline>
              </svg>
            </div>
          </a>
        ))}
      </div>
      
      <!-- Contact Form -->
      <div class="contact-form-section">
        <div class="form-header">
          <h2>Send a Message</h2>
          <p>Fill out the form below and I'll get back to you as soon as possible.</p>
        </div>
        
        <form class="contact-form" id="contact-form" action="https://formspree.io/f/your-form-id" method="POST">
          <div class="form-row">
            <div class="form-group">
              <label for="name" class="form-label">Full Name</label>
              <input type="text" id="name" name="name" class="form-input" placeholder="John Doe" required />
            </div>
            <div class="form-group">
              <label for="email" class="form-label">Email Address</label>
              <input type="email" id="email" name="email" class="form-input" placeholder="john@example.com" required />
            </div>
          </div>
          
          <div class="form-group">
            <label for="subject" class="form-label">Subject</label>
            <select id="subject" name="subject" class="form-input" required>
              <option value="">Select a topic...</option>
              <option value="course-request">Course Request</option>
              <option value="question">General Question</option>
              <option value="collaboration">Collaboration Inquiry</option>
              <option value="bug-report">Bug Report</option>
              <option value="other">Other</option>
            </select>
          </div>
          
          <div class="form-group">
            <label for="message" class="form-label">Message</label>
            <textarea id="message" name="message" class="form-input form-textarea" placeholder="Your message here..." rows="6" required></textarea>
          </div>
          
          <button type="submit" class="btn btn-primary btn-lg" id="submit-btn">
            <svg xmlns="http://www.w3.org/2000/svg" width="20" height="20" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round">
              <line x1="22" y1="2" x2="11" y2="13"></line>
              <polygon points="22 2 15 22 11 13 2 9 22 2"></polygon>
            </svg>
            Send Message
          </button>
        </form>
      </div>
      
      <!-- FAQ Section -->
      <div class="faq-section">
        <h2 class="section-title">Frequently Asked Questions</h2>
        <div class="faq-grid">
          {faqs.map((faq) => (
            <div class="faq-card">
              <h3 class="faq-question">{faq.question}</h3>
              <p class="faq-answer">{faq.answer}</p>
            </div>
          ))}
        </div>
      </div>
    </div>
  </section>
</BaseLayout>

<style>
  .contact-page {
    padding: var(--space-12) 0 var(--space-20);
  }
  
  .page-header {
    text-align: center;
    margin-bottom: var(--space-12);
  }
  
  .page-title {
    font-size: var(--text-4xl);
    font-weight: 800;
    margin-bottom: var(--space-4);
  }
  
  .page-description {
    font-size: var(--text-lg);
    color: var(--text-secondary);
    max-width: 600px;
    margin: 0 auto;
  }
  
  /* Contact Methods */
  .contact-methods {
    display: grid;
    grid-template-columns: repeat(3, 1fr);
    gap: var(--space-6);
    margin-bottom: var(--space-12);
  }
  
  .contact-card {
    display: flex;
    align-items: center;
    gap: var(--space-4);
    padding: var(--space-6);
    background: var(--bg-card);
    border: 1px solid var(--border-color);
    border-radius: var(--radius-xl);
    transition: all var(--transition-base);
  }
  
  .contact-card:hover {
    border-color: var(--primary-300);
    box-shadow: var(--shadow-lg);
    transform: translateY(-2px);
  }
  
  [data-theme="dark"] .contact-card:hover {
    border-color: var(--primary-700);
  }
  
  .contact-icon {
    flex-shrink: 0;
    display: flex;
    align-items: center;
    justify-content: center;
    width: 56px;
    height: 56px;
    background: linear-gradient(135deg, var(--primary-100), var(--secondary-100));
    border-radius: var(--radius-lg);
    color: var(--primary-600);
  }
  
  [data-theme="dark"] .contact-icon {
    background: linear-gradient(135deg, rgba(59, 130, 246, 0.2), rgba(139, 92, 246, 0.2));
    color: var(--primary-400);
  }
  
  .contact-info {
    flex: 1;
    display: flex;
    flex-direction: column;
    gap: var(--space-1);
  }
  
  .contact-title {
    font-size: var(--text-base);
    font-weight: 700;
  }
  
  .contact-value {
    font-size: var(--text-sm);
    color: var(--primary-600);
    font-weight: 500;
  }
  
  [data-theme="dark"] .contact-value {
    color: var(--primary-400);
  }
  
  .contact-description {
    font-size: var(--text-xs);
    color: var(--text-tertiary);
  }
  
  .contact-arrow {
    color: var(--text-tertiary);
    transition: transform var(--transition-fast);
  }
  
  .contact-card:hover .contact-arrow {
    transform: translateX(4px);
    color: var(--primary-500);
  }
  
  /* Contact Form */
  .contact-form-section {
    background: var(--bg-card);
    border: 1px solid var(--border-color);
    border-radius: var(--radius-2xl);
    padding: var(--space-10);
    margin-bottom: var(--space-12);
  }
  
  .form-header {
    text-align: center;
    margin-bottom: var(--space-8);
  }
  
  .form-header h2 {
    font-size: var(--text-2xl);
    margin-bottom: var(--space-2);
  }
  
  .form-header p {
    color: var(--text-secondary);
  }
  
  .form-row {
    display: grid;
    grid-template-columns: repeat(2, 1fr);
    gap: var(--space-6);
  }
  
  .form-group {
    margin-bottom: var(--space-6);
  }
  
  .form-label {
    display: block;
    font-size: var(--text-sm);
    font-weight: 600;
    color: var(--text-primary);
    margin-bottom: var(--space-2);
  }
  
  .form-input {
    width: 100%;
    padding: var(--space-4);
    background: var(--bg-primary);
    border: 1px solid var(--border-color);
    border-radius: var(--radius-lg);
    font-size: var(--text-base);
    color: var(--text-primary);
    transition: all var(--transition-fast);
  }
  
  .form-input:focus {
    outline: none;
    border-color: var(--primary-500);
    box-shadow: 0 0 0 3px rgba(59, 130, 246, 0.15);
  }
  
  .form-input::placeholder {
    color: var(--text-tertiary);
  }
  
  .form-textarea {
    resize: vertical;
    min-height: 150px;
  }
  
  .contact-form button[type="submit"] {
    width: 100%;
  }
  
  /* FAQ Section */
  .faq-section {
    margin-top: var(--space-12);
  }
  
  .section-title {
    font-size: var(--text-2xl);
    font-weight: 800;
    text-align: center;
    margin-bottom: var(--space-8);
  }
  
  .faq-grid {
    display: grid;
    grid-template-columns: repeat(2, 1fr);
    gap: var(--space-6);
  }
  
  .faq-card {
    background: var(--bg-card);
    border: 1px solid var(--border-color);
    border-radius: var(--radius-xl);
    padding: var(--space-6);
  }
  
  .faq-question {
    font-size: var(--text-base);
    font-weight: 700;
    margin-bottom: var(--space-3);
    color: var(--text-primary);
  }
  
  .faq-answer {
    font-size: var(--text-sm);
    color: var(--text-secondary);
    line-height: 1.7;
  }
  
  @media (max-width: 1024px) {
    .contact-methods {
      grid-template-columns: 1fr;
    }
  }
  
  @media (max-width: 768px) {
    .form-row {
      grid-template-columns: 1fr;
    }
    
    .faq-grid {
      grid-template-columns: 1fr;
    }
    
    .contact-form-section {
      padding: var(--space-6);
    }
  }
</style>

<script>
  // Form submission handling
  const form = document.getElementById('contact-form') as HTMLFormElement;
  const submitBtn = document.getElementById('submit-btn');
  
  form?.addEventListener('submit', async (e) => {
    e.preventDefault();
    
    if (submitBtn) {
      submitBtn.innerHTML = `
        <svg class="animate-spin" xmlns="http://www.w3.org/2000/svg" width="20" height="20" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
          <path d="M21 12a9 9 0 1 1-6.219-8.56"/>
        </svg>
        Sending...
      `;
      submitBtn.setAttribute('disabled', 'true');
    }
    
    // Simulate form submission (replace with actual endpoint)
    setTimeout(() => {
      if (submitBtn) {
        submitBtn.innerHTML = `
          <svg xmlns="http://www.w3.org/2000/svg" width="20" height="20" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
            <polyline points="20 6 9 17 4 12"></polyline>
          </svg>
          Message Sent!
        `;
        submitBtn.classList.remove('btn-primary');
        submitBtn.classList.add('btn-success');
      }
      form.reset();
      
      setTimeout(() => {
        if (submitBtn) {
          submitBtn.innerHTML = `
            <svg xmlns="http://www.w3.org/2000/svg" width="20" height="20" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round">
              <line x1="22" y1="2" x2="11" y2="13"></line>
              <polygon points="22 2 15 22 11 13 2 9 22 2"></polygon>
            </svg>
            Send Message
          `;
          submitBtn.classList.remove('btn-success');
          submitBtn.classList.add('btn-primary');
          submitBtn.removeAttribute('disabled');
        }
      }, 3000);
    }, 1500);
  });
</script>
